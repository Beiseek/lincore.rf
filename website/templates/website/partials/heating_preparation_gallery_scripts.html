<script>
document.addEventListener('DOMContentLoaded', function() {
    const gallerySlider = document.getElementById('heatingGallerySlider');
    if (!gallerySlider) return;

    const slides = gallerySlider.querySelectorAll('.gallery-slide');
    const dotsContainer = gallerySlider.closest('.gallery-container').querySelector('.gallery-dots');
    let currentSlideIndex = 0;
    let autoSlideInterval;

    if (slides.length <= 1) {
        if(dotsContainer) dotsContainer.style.display = 'none';
        const nav = gallerySlider.closest('.gallery-container').querySelector('.gallery-navigation');
        if(nav) nav.style.display = 'none';
        return;
    }

    function createDots() {
        if (!dotsContainer) return;
        dotsContainer.innerHTML = '';
        slides.forEach((_, index) => {
            const dot = document.createElement('span');
            dot.classList.add('dot');
            if (index === 0) dot.classList.add('active');
            dot.addEventListener('click', () => {
                goToSlide(index);
                resetAutoSlide();
            });
            dotsContainer.appendChild(dot);
        });
    }

    function updateDots(index) {
        if (!dotsContainer) return;
        const dots = dotsContainer.querySelectorAll('.dot');
        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });
    }

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === index);
        });
        currentSlideIndex = index;
        updateDots(index);
    }

    function nextSlide() {
        const newIndex = (currentSlideIndex + 1) % slides.length;
        showSlide(newIndex);
    }

    function prevSlide() {
        const newIndex = (currentSlideIndex - 1 + slides.length) % slides.length;
        showSlide(newIndex);
    }

    function goToSlide(index) {
        showSlide(index);
    }

    function startAutoSlide() {
        autoSlideInterval = setInterval(nextSlide, 5000);
    }

    function resetAutoSlide() {
        clearInterval(autoSlideInterval);
        startAutoSlide();
    }

    // Assign functions to window object to be called from HTML onclick
    window.heatingGalleryNext = function() {
        nextSlide();
        resetAutoSlide();
    }

    window.heatingGalleryPrev = function() {
        prevSlide();
        resetAutoSlide();
    }

    createDots();
    showSlide(0);
    startAutoSlide();
});
</script>



